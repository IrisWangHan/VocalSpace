
@{
	
}
@model List<VocalSpace.Models.ViewModel.Search.SongInfoDTO>
<link rel="stylesheet" href="~/css/exploreMusic.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/song.css" asp-append-version="true" />


<div class="container pb-10 pt-5">
    <h1 class="mb-4">發現音樂</h1>
    <hr class="mb-4">
    <div class="row">
        <div class="col-md-4 col-lg-4 col-xl-4">
            <div class="border-block mb-4">
                <h2 class="mb-4">類型</h2>
                <ul class="list-inline">
                    <li>
                        <a href="#" id="0" class="btn btn-sm btn-tag btn-white mb-2 active">全部</a>
                    </li>
                    <li>
                        <a href="#" id="1" class="btn btn-sm btn-tag btn-white mb-2">搖滾</a>
                    </li>
                    <li>
                        <a href="#" id="2" class="btn btn-sm btn-tag btn-white mb-2">民謠</a>
                    </li>
                    <li>
                        <a href="#" id="3" class="btn btn-sm btn-tag btn-white mb-2">嘻哈</a>
                    </li>
                    <li>
                        <a href="#" id="4" class="btn btn-sm btn-tag btn-white mb-2">都會</a>
                    </li>
                    <li>
                        <a href="#" id="5" class="btn btn-sm btn-tag btn-white mb-2">電子</a>
                    </li>
                    <li>
                        <a href="#" id="6" class="btn btn-sm btn-tag btn-white mb-2">探索</a>
                    </li>
                </ul>
                <hr class="mb-4 mt-4">
                <h2 class="mb-4">排序</h2>
                <ul class="list-inline">
                    <li class="list-inline-item">
                        <a href="#" class="btn btn-sm btn-tag btn-sort active" id="new">最新</a>
                    </li>
                    <li class="list-inline-item">
                        <a href="#" class="btn btn-sm btn-tag btn-sort" id="mostplay">最多撥放</a>
                    </li>
                    <li class="list-inline-item">
                        <a href="#" class="btn btn-sm btn-tag btn-sort" id="mostlike">最多喜歡</a>
                    </li>
                </ul>
            </div>
            <div class="text-center pb-5 d-lg-block">AD</div>
        </div>
        <div class="col-md-8 col-lg-8 col-xl-8">
            <div id="tab-content" class="ranking-list">
                @await Html.PartialAsync("_partialViewSong", Model)
            </div>
            <div class="mt-5 mb-5 text-center">
                <button class="btn btn-lg btn-loadmore" onclick="loadmore('song')">點我看更多</button>
            </div>
        </div>
    </div>
</div>

@*<script src="https://kit.fontawesome.com/5eeb73de16.js" crossorigin="anonymous"></script>
  *@
@section Scripts {
    <script>
        $(document).ready(function() {
                //  Rock / Pop / Jazz / HipHop / Classical ...
                $('.btn-white').click(function(e){
                e.preventDefault();
                $('.btn-white').removeClass('active');
                $(this).addClass('active');

                let type = $(this).attr('id');
                console.log(type);
                $.ajax({
                    type:'GET',
                    url: `/exploreMusic/MusicType/${type}`,
                    dataType: 'html',
                    success: function (response) {
                        //  更新 #tab-content 內的歌曲
                        $('#tab-content').html(response);
                    },
                    Error: function (err) {
                        console.log('歌曲類別:'+err);
                    }
               })
            })

            //  最新 / 最多撥放 / 最多喜歡(由大到小)
                $('.btn-sort').click(function(e){

                    e.preventDefault();
					$('.btn-sort').removeClass('active');
					$(this).addClass('active');
                    
                    let rank = $(this).attr('id');
                    console.log(rank);
                    $.ajax({
                        type:'GET',
                        url: `/exploreMusic/RankType/${rank}`,
                        dataType: 'html',
                        success: function (response) {
                            //  更新 #tab-content 內的歌曲
                            $('#tab-content').html(response);
                        },
                        Error: function (err) {
                            console.log('歌曲排序:'+err);
                        }
                  })
               
            })
        })
    </script>
}
            
            



