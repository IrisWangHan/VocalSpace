<div class="container">
    <div class="h1"><h1>蒐藏庫</h1></div>
    <hr />
    <div class="cont">
        <div class="sidebar">
            <ul id="myList">                    
                <a asp-action ="like"><li>我的喜歡<i class="bi bi-bookmark-heart"></i></li></a>
                <a asp-action="mylist"><li class="selected">我的歌單</li></a>
                <a asp-action="playrecord"><li>播放紀錄</li></a>
                <a asp-action="booking"><li >我訂閱的歌單</li></a>
            </ul>
        </div>


        <div class="createform">
            <div class="title"><h2>蒐藏庫 / 我的歌單 /</h2><h2 class="red">新增歌單</h2></div>
            <div class="content">

                <div class="leftcontent">
                    <!-- <div class="cover-upload">封面</div>
                    <input type="file" class="upload-btn" value="上傳封面"> -->


                    <div class="cover-container">
                        <div class="cover">
                            <img id="preview" alt="封面圖片">
                        </div>
                        <label class="upload-btn">
                            選擇圖片
                            <input type="file" id="fileInput" accept="image/*">
                        </label>
                    </div>

                    <div id="fileName">未選擇圖片</div>
                </div>

                <div class="rightcontent">
                    <input type="text" class="input-field" placeholder="請輸入歌單名稱">
                    <div class="introduce">
                        <h4>介紹</h4>
                        <textarea class="input-field" placeholder="請輸入歌單介紹文字"></textarea>
                    </div>
                    
                    <div class="status-toggle">
                        <h4>歌單狀態</h4>
                        <label class="switch">
                            <input type="checkbox" id="toggleSwitch">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <button class="create-btn">新增歌單</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    const list = document.getElementById('myList');
    const items = list.getElementsByTagName('li');

    // 為每個 list 項目加上 click 事件監聽器
    for (let i = 0; i < items.length; i++) {
      items[i].addEventListener('click', function() {
        // 清除所有項目的選取效果
        for (let j = 0; j < items.length; j++) {
          items[j].classList.remove('selected');
        }
        // 為被點擊的項目加上選取效果
        this.classList.add('selected');
      });
    }
    // 圖片預覽
    document.getElementById("fileInput").addEventListener("change", function(event) {
        const file = event.target.files[0];
        const fileNameDisplay = document.getElementById("fileName");

        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const img = document.getElementById("preview");
                img.src = e.target.result;
                img.style.display = "block";
            };
            reader.readAsDataURL(file);

            // 更新檔名顯示
            fileNameDisplay.textContent = file.name;
        } else {
            fileNameDisplay.textContent = "未選擇圖片";
        }
    });
</script>
